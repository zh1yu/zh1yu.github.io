webpackJsonp([11],{"+/MR":function(t,e){},"5FmO":function(t,e){},"7ewL":function(t,e,n){"use strict";var a=n("LTzH"),r=n("VqY/"),o={findByType:function(t){var e=Array.isArray(t)?t.join(","):t;return a.a.get(r.a.API_URL+"resourceManage/config?configData="+e).then(function(e){return Array.isArray(t)?e.data.data:e.data.data[t]})},findArticleType:function(){return this.findByType("articleType")}};e.a=o},"91sB":function(t,e){},CndG:function(t,e,n){"use strict";var a=n("LTzH"),r=n("VqY/"),o={getUserInfo:function(){return a.a.get(r.a.API_URL+"user/present").then(function(t){return t.data})},getRelatedAccount:function(){return a.a.get(r.a.API_URL+"account/list").then(function(t){return t.data})},getCurrentAccount:function(){return a.a.get(r.a.API_URL+"account/present").then(function(t){return t.data})},switchAccount:function(t){return a.a.put(r.a.API_URL+"account/present/shift",{accountId:t}).then(function(t){return t.data})}};e.a=o},GK83:function(t,e){},IcnI:function(t,e,n){"use strict";var a,r=n("nhZ1"),o=n("bSIt"),i=n("a3Yh"),s=n.n(i),u=n("Klf7"),c=n.n(u),d=n("7ewL"),l=n("CndG"),p={state:{fetchLoading:!1,title:"",user:{userName:null},adShapeList:[],accountList:[],resourcePlatformList:[],productList:[],editTemplateData:{},currentAccount:"",isAdmin:!1},getters:{fetchLoading:function(t){return t.fetchLoading},userCookie:function(t){return t.user},resourcePlatformList:function(t){return t.resourcePlatformList},productList:function(t){return t.productList},adShapeList:function(t){return t.adShapeList},accountList:function(t){return t.accountList},currentAccount:function(t){return t.currentAccount},user:function(t){return t.user},editTemplateData:function(t){return t.editTemplateData},isAdmin:function(t){return t.isAdmin}},actions:{FETCH_LOADING:function(t,e){(0,t.commit)("loading",e)},dicInit:function(t){var e=t.commit;d.a.findByType(["resourcePlatform","product","adShape"]).then(function(t){e("dicInit",{resourcePlatformList:t.resourcePlatform,productList:t.product,adShapeList:t.adShape})})},getRelatedAccount:function(t,e){var n=t.commit;l.a.getRelatedAccount().then(function(t){n("accountList",t.data)})},editTemplate:function(t,e){(0,t.commit)("editTemplate",e)},userLogin:function(t){var e=t.commit;l.a.getUserInfo().then(function(t){200===t.status&&(c.a.set("UserName",t.data.name,{expires:"30m"}),e("userLogin",{userName:t.data.name}),e("isAdmin",1===t.data.role))})},getCurrentAccount:function(t){var e=t.commit;l.a.getCurrentAccount().then(function(t){e("currentAccount",t.data.accountName)})}},mutations:(a={},s()(a,"loading",function(t,e){t.fetchLoading=e}),s()(a,"userLogin",function(t,e){t.user=e}),s()(a,"userLogout",function(t,e){t.user=e}),s()(a,"accountList",function(t,e){t.accountList=e}),s()(a,"editTemplate",function(t,e){t.editTemplateData=e}),s()(a,"dicInit",function(t,e){t.adShapeList=e.adShapeList,t.resourcePlatformList=e.resourcePlatformList,t.productList=e.productList}),s()(a,"currentAccount",function(t,e){t.currentAccount=e}),s()(a,"isAdmin",function(t,e){t.isAdmin=e}),a)},f=n("Bjlo").Promise;window.Promise||(window.Promise=f),r.default.use(o.a);var h=new o.a.Store({modules:{app:p}});e.a=h},L6Yq:function(t,e){t.exports="data:image/gif;base64,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"},LTzH:function(t,e,n){"use strict";var a=n("2q6C"),r=n.n(a),o=n("rVsN"),i=n.n(o),s=n("84iU"),u=n.n(s),c=n("IcnI"),d=n("VqY/");u.a.defaults.timeout=5e3;var l=void 0;u.a.interceptors.request.use(function(t){return t.withCredentials=!0,c.a.state.token&&(t.headers.Authorization="token "+c.a.state.token),t.data&&"false"===t.data.loading||t.params&&"false"===t.params.loading||(l=new Date,c.a.dispatch("FETCH_LOADING",!0)),t},function(t){return i.a.reject(t)}),u.a.interceptors.response.use(function(t){var e=(new Date).getTime()-l.getTime();return e<500&&(e=500),setTimeout(function(){c.a.dispatch("FETCH_LOADING",!1)},e),t},function(t){c.a.dispatch("FETCH_LOADING",!1),l=new Date;var e="";if(t.response){switch(t.response.status){case 401:case 403:window.location.href=d.a.API_SSO_URL}if(t.response.data&&t.response.data.code&&t.response.data.message)return e=t.response.data&&t.response.data.code&&t.response.data.message,i.a.reject(t.response.data);e=t.response.status+" "+t.response.statusText||"系统异常,请稍后再试"}else e="服务超时,请稍后重试";-1===window.location.href.indexOf("preview")&&r()({type:"error",message:e,showClose:!0,center:!0,customClass:"common_tip"});var n={code:0,message:e};return i.a.reject(n)}),e.a=u.a},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};n.d(a,"dateFormat_",function(){return y}),n.d(a,"dateFormat",function(){return Q}),n.d(a,"toThousands",function(){return D}),n.d(a,"handleType",function(){return O});n("GK83");var r=n("47jy"),o=n.n(r),i=n("ZLEe"),s=n.n(i),u=n("nhZ1"),c={name:"App",provide:function(){return{reload:this.reload}},data:function(){return{init:!1,load:!1,isRouterAlive:!0}},watch:{$route:function(t,e){t.path.indexOf("preview")<0&&(this.load=!0)}},components:{AppHeader:n("tz1W").default},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},d=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.isRouterAlive?e("router-view",{staticClass:"view"}):this._e()],1)};d._withStripped=!0;var l={render:d,staticRenderFns:[]},p=l;var f=!1;var h=n("C7Lr")(c,p,!1,function(t){f||n("bQtF")},null,null);h.options.__file="src/App.vue";var m=h.exports,g=n("lPSU"),A=n("VqY/"),v=n("IcnI"),L=n("Klf7"),w=function(){var t=null,e=L.get("MPToken"),n=L.get("MPUser");return e&&(t={token:e,userName:n}),t},C=function(t){return Promise.all([n.e(0),n.e(6)]).then(function(){return t(n("tz1W"))}.bind(null,n)).catch(n.oe)};u.default.use(g.a),g.a.prototype.goBack=function(){this.isBack=!0,window.history.go(-1)};var I=new g.a({routes:[{path:"/preview/:id",components:{default:function(t){return Promise.all([n.e(0),n.e(6)]).then(function(){return t(n("vT+3"))}.bind(null,n)).catch(n.oe)},appHeader:C},props:{default:!0,appHeader:!1}},{path:"/preview1/:id",components:{default:function(t){return Promise.all([n.e(0),n.e(7)]).then(function(){return t(n("+syI"))}.bind(null,n)).catch(n.oe)},appHeader:C},props:{default:!0,appHeader:!1}},{path:"*",component:function(t){return n.e(8).then(function(){return t(n("c5Mg"))}.bind(null,n)).catch(n.oe)},meta:{title:"404 - 页面不存在"}}]}),S=w();S&&v.a.commit("userLogin",S),I.beforeEach(function(t,e,n){if(t.path.indexOf("login")<0&&t.path.indexOf("preview")<0)w();(t.path.indexOf("login")>0&&"0"===t.query.result&&alert("您还没有账户，请先开通账户"),t.meta.title&&(document.title=t.meta.title),t.matched.some(function(t){return t.meta.loginRequired}))?v.a.state.app.user?n():(window.location.href=A.a.API_SSO_URL,n(!1)):n()}),I.afterEach(function(t,e,n){window.scrollTo(0,0)});var R=I,U=(n("nO5U"),n("5FmO"),n("LTzH")),y=(n("+/MR"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";if(!t)return"";var n=t instanceof Date?t:new Date(t.replace(/-/g,"/")),a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return e}),Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";if(!t)return"";var n=t instanceof Date?t:new Date(t.replace(/-/g,"/")),a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return e},D=function(t){if(t)return(t=isNaN(parseFloat(t))?t:parseFloat(t).toFixed(2)).toString().replace(/\d+/,function(t){return t.replace(/(\d)(?=(\d{3})+$)/g,function(t){return t+","})})},O=function(t,e){var n={status:{0:"审核",1:"通过",2:"拒绝",3:"撤销"},payType:{0:"支付宝",1:"微信",2:"银行汇款",3:"账户中心转账",4:"广告赠款",5:"其他"},rechargeType:{1:"现金账户",2:"虚拟账户"},invoiceStatus:{0:"发票未开",1:"申请开票",2:"已开发票",3:"无法开票"},applyInvoiceStatus:{0:"审核中",1:"已通过",2:"已拒绝",3:"已撤销"},product:{0:"全部",1:"论坛",2:"下载",3:"首页",4:"ITEYE",5:"问答",6:"博客",7:"类目",8:"其他"},platform:{0:"全部",1:"H5",2:"APP",3:"PC"},adShape:{0:"不限",1:"视窗",2:"横幅",3:"信息流",4:"文字链",5:"弹窗",6:"互动",7:"竖幅",8:"其他"},scheduleStatus:{0:"预定",1:"生效",2:"失效",3:"过期",4:"结束"},buyStatus:{1:"购买",2:"配送"}};if(n[e])return n[e][t]};s()(a).forEach(function(t){u.default.filter(t,a[t])});var k=n("Klf7");u.default.use(k),u.default.config.productionTip=!1,u.default.use(o.a),u.default.prototype.CFG=A.a,u.default.prototype.http=U.a,u.default.prototype.filter=a,new u.default({el:"#app",store:v.a,router:R,http:U.a,components:{App:m},template:"<App/>",created:function(){}})},TiCC:function(t,e){},"VqY/":function(t,e,n){"use strict";e.a={NODE_ENV:"production",ENV:"prod",API_URL:"http://mp-admin.csdn.net/kp/api/",API_PREVIEW_URL:"https://kunpeng.csdn.net/",STATIC_URL:"http://mp-admin.csdn.net/ad/",STATIC_PREVIEW_URL:"https://kunpeng-sc.csdnimg.cn/",ROOT_URL:"http://mp-admin.csdn.net/ad/",UPLOAD_URL:"http://kunpeng-manager.csdn.net/api/",API_SSO_URL:"https://mp-sso.csdn.net/login.html?rolePath:cn=manage_ad_admin,ou=csdn_manage,ou=csdn_production,ou=csdn_permission"}},bQtF:function(t,e){},nO5U:function(t,e){},tz1W:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("4YfN"),r=n.n(a),o=n("bSIt"),i=n("CndG"),s={inject:["reload"],name:"app-header",data:function(){return{showQuit:!1}},mounted:function(){this.showQuit=!0},methods:{showList:function(t){this.showQuit=!0},hiddenList:function(t){this.showQuit=!1},handleCommand:function(t){t&&("logout"===t?(this.$cookie.delete("UserName"),window.location.href=this.CFG.API_SSO_URL):this.$router.push(t))},visibleChange:function(t){t&&this.accountList.length<1&&(this.$store.dispatch("getRelatedAccount"),this.$store.dispatch("getCurrentAccount"))},jumpAccount:function(t){var e=this;i.a.switchAccount(t).then(function(t){200===t.status?(e.$store.dispatch("getCurrentAccount"),e.reload()):e.$message({type:"error",message:"切换账户失败",onClose:function(){}})})}},computed:r()({},Object(o.b)(["user","accountList","currentAccount"]))},u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-header",[a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:"/"}},[t._v("CSDN广告投放管理平台")])],1)]),t._v(" "),a("el-col",{staticClass:"header-nav-menu",attrs:{span:14}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":this.$route.path,mode:"horizontal","background-color":"#222","active-text-color":"#CA0C16",router:!0,"text-color":"#aaa"}},[a("el-menu-item",{class:{"is-active":t.$route.path.indexOf("ad/")>0},attrs:{index:"/ad/list"}},[t._v("\n           广告管理\n        ")]),t._v(" "),a("el-menu-item",{class:{"is-active":t.$route.path.indexOf("resource/")>0},attrs:{index:"/resource/list"}},[t._v("\n           资源管理\n        ")]),t._v(" "),a("el-menu-item",{class:{"is-active":t.$route.path.indexOf("schedule/")>0},attrs:{index:"/schedule/list"}},[t._v("\n           排期管理\n        ")]),t._v(" "),a("el-menu-item",{class:{"is-active":t.$route.path.indexOf("report/")>0},attrs:{index:"/report/keyword/list"}},[t._v("\n           数据报告\n        ")]),t._v(" "),a("el-menu-item",{class:{"is-active":t.$route.path.indexOf("account/")>0},attrs:{index:"/account/adjournal/list"}},[t._v("\n           账户管理\n        ")])],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("ul",{staticClass:"header-right"},[a("el-dropdown",{on:{command:t.handleCommand,"visible-change":t.visibleChange}},[a("span",{staticClass:"el-dropdown-link account-name"},[a("li",[a("img",{attrs:{src:n("L6Yq")}}),t._v(t._s(t.user.userName)+"\n              "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.accountList.length>0?a("el-dropdown-item",{staticClass:"change-account"},[t._v("切换账户\n              "),t.accountList||t.accountList.length?a("div",{staticClass:"sub-account"},t._l(t.accountList,function(e,n){return a("li",{key:n},[[a("a",{class:t.currentAccount==e.accountName?"activeAccount":"",attrs:{title:e.accountName},on:{click:function(n){return t.jumpAccount(e.id)}}},[t._v(t._s(e.accountName))])]],2)}),0):t._e()]):t._e(),t._v(" "),a("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退      出")])],1)],1)],1)])],1)],1)};u._withStripped=!0;var c={render:u,staticRenderFns:[]},d=c;var l=!1;var p=n("C7Lr")(s,d,!1,function(t){l||(n("91sB"),n("TiCC"))},"data-v-43905965",null);p.options.__file="src/AppHeader.vue";e.default=p.exports}},["NHnr"]);